collections_config:
  pages:
    path: ''
    icon: wysiwyg
    disable_url: false
    disable_add: false
    disable_add_folder: false
    disable_file_actions: false

  posts:
    path: data/content.json
    icon: library_books
    parser: json
    array_key: blog_posts  # ✅ Cible le tableau blog_posts dans le JSON
    output: true
    url: "/blog/[slug]/"
    _inputs:
      # ✅ Tous les chemins JSONPath avec [*] sont entre guillemets
      "$.blog_posts[*].title":
        label: "Titre de l'article"
        type: text
      "$.blog_posts[*].slug":
        label: "Slug (URL)"
        type: text
      "$.blog_posts[*].date":
        label: "Date de publication"
        type: datetime
      "$.blog_posts[*].image":
        label: "Image de couverture"
        type: image
      "$.blog_posts[*].excerpt":
        label: "Résumé (160 caractères max)"
        type: textarea
      "$.blog_posts[*].body":
        label: "Contenu de l'article"
        type: markdown
        comment: "Utilisez des titres H2/H3 pour le SEO"
        options:
          format: p h2 h3
          headings: [2, 3]
          headings_start_with_h2: true
          bold: true
          italic: true
          bulletlist: true
          orderedlist: true
          link: true
          image: true

  admin:
    path: admin
    icon: ad
    disable_url: false
    disable_add: false
    disable_add_folder: false
    disable_file_actions: false

# ✅ Tous les champs globaux avec guillemets pour JSONPath
_inputs:
  # Homepage
  "$.homepage.hero_title":
    label: "Titre principal (Homepage)"
    type: html
    cascade: true
  "$.homepage.hero_subtitle":
    label: "Sous-titre (Homepage)"
    type: text
    cascade: true
  "$.homepage.vision_subtitle":
    label: "Sous-titre de la vision"
    type: text
    cascade: true
  "$.homepage.vision_text":
    label: "Texte de vision"
    type: markdown
    cascade: true

  # Piliers (activé)
  "$.piliers_section.title":
    label: "Titre des Piliers"
    type: text
    cascade: true
  "$.piliers_section.piliers[*].title":
    label: "Titre du pilier"
    type: text
    cascade: true
  "$.piliers_section.piliers[*].description":
    label: "Description du pilier"
    type: markdown
    cascade: true

  # Expert (activé)
  "$.expert_section.bio":
    label: "Biographie de l'expert"
    type: markdown
    cascade: true
  "$.expert_section.book_fnac":
    label: "Lien Fnac du livre"
    type: url
    cascade: true
  "$.expert_section.book_amazon":
    label: "Lien Amazon du livre"
    type: url
    cascade: true

  # Offres phares (ajouté)
  "$.offres_phares[*].title":
    label: "Titre de l'offre"
    type: text
    cascade: true
  "$.offres_phares[*].description":
    label: "Description de l'offre"
    type: markdown
    cascade: true

data_config:
  site:
    path: data/content.json  # Chemin vers le fichier JSON global

timezone: Etc/UTC
output: .
