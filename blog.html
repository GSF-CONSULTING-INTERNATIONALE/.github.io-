<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog & Actualités | GSF Consulting International</title>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;500;700&family=Syne:wght@400;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">

    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

    <style>
        body { background-color: #050505; color: white; font-family: 'Space Grotesk', sans-serif; margin: 0; }
        .container { max-width: 1200px; margin: 0 auto; padding: 120px 20px 50px; }
        h1 { font-family: 'Syne', sans-serif; font-size: 3rem; color: #06b6d4; margin-bottom: 50px; text-transform: uppercase; }
        .blog-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; }
        .article-card { background: rgba(255, 255, 255, 0.05); border: 1px solid #333; border-radius: 15px; overflow: hidden; transition: 0.3s; cursor: pointer; }
        .article-card:hover { border-color: #06b6d4; transform: translateY(-5px); }
        .article-img { height: 200px; background: #111; width: 100%; object-fit: cover; }
        .article-content { padding: 25px; }
        .article-date { font-size: 0.85rem; color: #06b6d4; margin-bottom: 10px; }
        .article-title { font-family: 'Syne', sans-serif; font-size: 1.5rem; margin-bottom: 15px; color: #fff; }
        .article-excerpt { font-size: 1rem; color: #aaa; line-height: 1.6; }
        
        /* Modal Styles */
        #modal-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.95); z-index: 2000; overflow-y: auto; }
        .modal-content { max-width: 900px; margin: 50px auto; background: #0a0a0a; padding: 40px; border-radius: 20px; border: 1px solid #06b6d4; position: relative; }
        .close-btn { position: absolute; top: 20px; right: 20px; color: white; font-size: 2.5rem; cursor: pointer; }
        .article-full-content h1, .article-full-content h2 { font-family: 'Syne'; color: #06b6d4; margin-top: 1.5em; }
        .article-full-content p { line-height: 1.8; color: #ddd; font-size: 1.1rem; }
        .article-full-content img { max-width: 100%; border-radius: 10px; margin: 20px 0; border: 1px solid #333; }
        .back-link { display: inline-block; margin-bottom: 20px; padding: 10px 20px; border: 1px solid #06b6d4; border-radius: 5px; color: #06b6d4; text-decoration: none; font-weight: bold; }
    </style>
</head>
<body>
    <nav style="position: fixed; top: 0; width: 100%; padding: 20px; background: rgba(5,5,5,0.9); z-index: 1000; display: flex; justify-content: space-between; align-items: center;">
        <a href="index.html" style="font-family: 'Syne'; font-weight: 800; font-size: 1.5rem; color: #06b6d4; text-decoration: none;">GSF CONSULTING</a>
        <a href="index.html" class="back-link" style="margin-bottom: 0;">Retour au site</a>
    </nav>

    <div class="container">
        <h1>Actualités & IA Juridique</h1>
        <div id="blog-grid" class="blog-grid">Chargement des analyses...</div>
    </div>

    <div id="modal-overlay">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal()">&times;</span>
            <div id="modal-body"></div>
        </div>
    </div>

    <script>
        marked.setOptions({ breaks: true, gfm: true });

        fetch('data/content.json')
            .then(res => res.json())
            .then(data => {
                const grid = document.getElementById('blog-grid');
                grid.innerHTML = '';
                window.blogData = data.blog_posts;

                data.blog_posts.forEach((post, index) => {
                    const card = document.createElement('div');
                    card.className = 'article-card';
                    card.onclick = () => openArticle(index);
                    const dateStr = new Date(post.date).toLocaleDateString('fr-FR', { day: 'numeric', month: 'long', year: 'numeric' });

                    card.innerHTML = `
                        <img src="${post.image}" class="article-img" alt="${post.title}">
                        <div class="article-content">
                            <div class="article-date">${dateStr}</div>
                            <h2 class="article-title">${post.title}</h2>
                            <p class="article-excerpt">${post.excerpt}</p>
                            <span style="color: #06b6d4; font-weight: bold;">Lire la suite →</span>
                        </div>
                    `;
                    grid.appendChild(card);
                });
            });

        function openArticle(index) {
            const post = window.blogData[index];
            const bodyHtml = marked.parse(post.body);
            const dateStr = new Date(post.date).toLocaleDateString('fr-FR', { day: 'numeric', month: 'long', year: 'numeric' });

            document.getElementById('modal-body').innerHTML = `
                <a href="#" onclick="closeModal(); return false;" class="back-link">← Retour aux actualités</a>
                <h2 style="font-family: 'Syne'; font-size: 2.5rem; color: #06b6d4; margin-top: 0;">${post.title}</h2>
                <p style="color: #888; margin-bottom: 30px;">Publié le ${dateStr}</p>
                <img src="${post.image}" style="width:100%; border-radius:15px; margin-bottom:30px;">
                <div class="article-full-content">${bodyHtml}</div>
            `;
            document.getElementById('modal-overlay').style.display = "block";
            document.body.style.overflow = "hidden";
        }

        function closeModal() {
            document.getElementById('modal-overlay').style.display = "none";
            document.body.style.overflow = "auto";
        }

        document.addEventListener('keydown', e => { if(e.key === 'Escape') closeModal(); });
    </script>
</body>
</html>
